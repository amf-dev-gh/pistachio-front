<div class="container-fluid container-min-admin">
  <h3>Pedidos</h3>

  <div class="d-flex justify-content-between align-items-center mb-2 filtro-producto">
    <div class="d-flex align-items-center">
      <form [formGroup]="filtroForm" (ngSubmit)="filtrarVentas()" class="d-flex align-items-center">
  
        <label for="idProducto" class="me-2 mb-0">Producto:</label>
        <select id="idProducto" formControlName="idProducto" class="form-select me-2 mb-0" style="max-width: 200px;">
          <option value="" disabled selected>- Seleccionar producto -</option>
          <option *ngFor="let producto of productos" [value]="producto.id">{{producto.nombre}}  x ({{producto.cantidad}})</option>
        </select>
  
        <label for="fechaInicio" class="me-2 mb-0">Desde:</label>
        <input type="date" formControlName="fechaInicio" class="form-control me-2 mb-0" id="fechaInicio" style="max-width: 160px;" />
  
        <label for="fechaFin" class="me-2 mb-0">Hasta:</label>
        <input type="date" formControlName="fechaFin" class="form-control me-2 mb-0" id="fechaFin" style="max-width: 160px;" />
  
        <button type="submit" class="btn_card me-2" [disabled]="filtroForm.invalid">Filtrar</button>
        <button type="button" class="btn_card me-2" (click)="quitarFiltro()">Quitar filtro</button>
      </form>
    </div>
  </div>
  

  <div class="table-responsive">
    <table class="table table-sm table-striped table-hover">
      <thead>
        <tr class="text-center">
          <th>Producto</th>
          <th>Info. prod.</th>
          <th>Cantidad vendida</th>
          <th>Fecha</th>
        </tr>
      </thead>
      <tbody>
        <tr class="text-center" *ngFor="let v of ventas">
          <td>{{v.producto.nombre}} x ({{v.producto.cantidad}})</td>
          <td>{{v.producto.descripcion}}</td>
          <td>{{v.cantidadVendida}}</td>
          <td>{{v.fechaVenta | date:'yyyy-MM-dd'}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
